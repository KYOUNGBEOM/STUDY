# 트랜잭션이란?
    DBMS에서 데이터를 다루는 논리적인 작업의 단위
    트랜잭션은 데이터베이스의 무결성을 유지하기 위해 원자성, 일관성, 고립성, 지속성의 성질을 가짐

# 트랜잭션의 존재 이유
    첫 째, 데이터베이스에서 데이터를 다룰 때 장애가 발생하는 경우, 트랜잭션이 데이터를 복구하는 작업의 단위가 됨

    둘 째, 여러 작업이 동시에 같은 데이터를 다루는 경우, 트랜잭션이 작업을 서로 분리하는 단위가 됨

# 트랜잭션 사용법
    트랜잭션을 사용하기 위한 문법은 START TRANSACTION문과 COMMIT문을 사용하여 트랜잭션의 시작과 끝을 표현함

    예시
    START TRANSACTION
        1. A 계좌에서 10000원을 인출하는 UPDATE 문
        2. B 계좌에서 10000원을 인출하는 UPDATE 문
    COMMIT

    위와 같이 작성하면 1,2번의 두 SQL문은 하나의 논리적인 작업의 단위가 됨

# 트랜잭션 수행 과정
![image](https://github.com/user-attachments/assets/77041c38-d6c0-47e4-ad49-75c34e5e8b81)

    트랜잭션이 수행되는 과정은 다음과 같음
    1. A계좌(박지성)의 값을 하드디스크(데이터베이스)에서 주기억장치 버퍼로 읽어옴
    2. B계좌(김연아)의 값을 하드디스크(데이터베이스)에서 주기억장치 버퍼로 읽어옴
    3. A계좌(박지성)에서 10,000원을 인출한 값을 저장함
    4. B계좌(김연아)에서 10,000원을 인출한 값을 저장함
    5. A계좌(박지성)의 값을 주기억장치 버퍼에서 하드디스크(데이터베이스)에 기록함
    6. B계좌(김연아)의 값을 주기억장치 버퍼에서 하드디스크(데이터베이스)에 기록함

    여기서 알아두어야 할 것은 트랜잭션의 사실적인 종료는 1~6이 완전히 끝난 후이지만,
    DBMS는 1~4까지 수행하고 사용자에게 부분완료 사실을 알리고, 나머지 5~6은 DBMS가 책임지고 수행함

    이렇게 작동하는 이유는 DBMS가 동시에 많은 트랜잭션을 처리할 때, 트랜잭션이 하드디스크에 개별접근하는 것을 막고
    DBMS가 일괄적으로 하드디스크에 접근하여 처리함으로써 사용자에게 빠른 응답성을 보장하기 위함

# 트랜잭션의 네 가지 성질(ACID)

    1. 원자성
        트랜잭션에 포함된 작업은 전부 수행되거나 전부 수행되지 않아야함
    2. 일관성
        트랜잭션을 수행하기 전이나 수행한 후나 데이터베이스는 항상 일관된 상태를 유지해야함
    3. 고립성
        수행 중인 트랜잭션에 다른 트랜잭션이 끼어들어 변경 중인 데이터 값을 훼손하는일이 없어야 함
        (서로 다른 두 트랜잭션이 충돌하지 않도록 동시성 제어가 필요함)
    4. 지속성
        수행을 성공적으로 완료한 트랜잭션은 변경한 데이터를 영구적으로 저장해야함
        저장 직후 혹은 어느 때나 발생할 수 있는 정전, 장애, 오류에 영향을 받지 않아야 함
        (부분완료 상태에서 성공적으로 데이터를 데이터베이스에 저장하지 못하면 실패 상태가 되고, 
         실패 상태에서는 트랜잭션이 수행한 작업을 모두 원상복구 시킴)

![image](https://github.com/user-attachments/assets/f2593604-03e9-4150-b123-87fd691bcad4)
        
